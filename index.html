<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOS</title>
    <script>
		let seq = "111111111111111111111111111111000000000000000000000000000000111111111111111111111111111111000000000000000000000000000000111111111111111111111111111111000000000000000000000000000000111111111100000000001111111111000000000011111111110000000000000000000000000000000000000000";
        let itr = 0;
        
        startLoop();

        function startLoop() {
            const dt = new Date();
            const seconds = dt.getSeconds();
            const milliseconds = dt.getMilliseconds();
            // console.log(seconds);
            // console.log(seconds % 10);
            // console.log(9 - (seconds % 10));
            // console.log(milliseconds);
            // console.log(999 - milliseconds);
            // console.log("timeout");
             console.log(0 + ((9 - (seconds % 10)) * 1000) + (999 - milliseconds));
             console.log("waiting");
            setTimeout(() => {
                //console.log("startSeq");

                startSeq();
        }, (0 + ((9 - (seconds % 10)) * 1000) + (999 - milliseconds)));
        }

        function startSeq() {
            itr ++;
            const myInterval = setInterval(() => {
                if (seq[itr] == 1){
                    document.body.style.backgroundColor = "white";
                }
                else{
                    document.body.style.backgroundColor = "black";
                }
                itr = (itr + 1) % seq.length;
                if (itr == 0){
                    clearInterval(myInterval);
                    startLoop();
                }
            }, 30);
        }
        
        
        
        // setInterval(function(){
        //     if (seq[itr] == 1){
        //         document.body.style.backgroundColor = "white";
        //     }
        //     else{
        //         document.body.style.backgroundColor = "black";
        //     }
        //     itr = (itr + 1) % len;
        // }, 30);
        
    </script>
</head>
<body>
    <h1 id="val"></h1>
</body>
</html>